---
path: '/collect-data/pixie/set-up-env'
duration: 5
title: 'Set up your TinyHat environment'
template: 'GuideTemplate'
description: 'Before you begin, set up a local minikube cluster that runs your TinyHat application.'
procIdx: 1
---

<Callout variant="course" title="lab">

This procedure is part of a lab that teaches you how to monitor your Kubernetes cluster with Pixie. If you haven't already, check out the [lab introduction](/collect-data/pixie).

</Callout>

Before you learn how you can use Pixie to monitor your Kubernetes clusters, you need to set one up. We've designed a cluster for you to use in this lab.

<Steps>

<Step>

Clone `pixie-lab-materials` from GitHub:

<>

```bash
git clone https://github.com/newrelic-experimental/pixie-lab-materials
```

</>

This repository contains all the code you need to complete this lab.

</Step>

<Step>

Change to the _main_ directory, and run the setup script:

<>

```bash
cd pixie-lab-materials/main
./setup.sh
```

<Callout variant="important">

If you're a windows user, run the PowerShell setup script:

```sh
.\setup.ps1
```

</Callout>

</>

This script spins up a new minikube cluster using the Pixie-supported hyperkit driver. It also configures your network memory and CPU with limits that work well with this lab. Finally, it creates all the pods and services that make up the TinyHat application.

<Callout variant="tip">

If you're using linux, update _setup.sh_ to use the `kvm2` driver instead:

```bash
minikube start --driver=kvm2 --cni=flannel --cpus=4 --memory=8000 -p minikube-pixie-lab
```

If you're missing any dependencies, see the [requirements](/collect-data/pixie/#requirements) in the lab overview for installation links.

</Callout>

</Step>

<Step>

In a new terminal window, open a minikube tunnel:

<>

```bash
minikube tunnel -p minikube-pixie-lab
```

</>

This exposes the load balancer services in your cluster so you can access them.

<Callout variant="important">

You may have to provide your user's password to allow minikube to work.

</Callout>

</Step>

</Steps>

You should now have two terminal windows:

- One that contains your tunnel. This needs to remain open as long as you use your website.
- One for running the rest of the commands in this lab

In the next procedure, you familiarize yourself with your cluster and website.

<Callout variant="course" title="lab">

This procedure is part of a lab that teaches you how to monitor your Kubernetes cluster with Pixie. Now that you've set up your environment, [explore your cluster](/collect-data/pixie/explore-cluster).

</Callout>
